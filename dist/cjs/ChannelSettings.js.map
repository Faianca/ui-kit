{"version":3,"file":"ChannelSettings.js","sources":["../../../src/ui/Badge/index.jsx","../../../src/smart-components/ChannelSettings/components/EditDetails.jsx","../../../src/smart-components/ChannelSettings/components/ChannelProfile.jsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/MembersModal.tsx","../../../src/smart-components/ChannelSettings/components/MembersAccordion.jsx","../../../src/smart-components/ChannelSettings/components/UserListItem.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/OperatorsModal.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/AddOperatorsModal.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/OperatorList.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/InviteMembersModal.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/MemberList.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/BannedMembersModal.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/BannedMemberList.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/MutedMembersModal.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/MutedMemberList.tsx","../../../src/smart-components/ChannelSettings/components/AdminPanel/index.tsx","../../../src/smart-components/ChannelSettings/index.jsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './index.scss';\nimport Label, { LabelTypography, LabelColors } from '../Label';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nexport default function Badge({\n  count,\n  maxLevel,\n  className,\n}) {\n  const { stringSet } = useContext(LocalizationContext);\n  const maximumNumber = parseInt('9'.repeat((maxLevel > 6) ? 6 : maxLevel), 10);\n  return (\n    <div\n      className={[\n        ...(Array.isArray(className) ? className : [className]),\n        'sendbird-badge',\n      ].join(' ')}\n    >\n      <div className=\"sendbird-badge__text\">\n        <Label\n          type={LabelTypography.CAPTION_2}\n          color={LabelColors.ONCONTENT_1}\n        >\n          {\n            (count > maximumNumber)\n              ? `${maximumNumber}${stringSet.BADGE__OVER}`\n              : count\n          }\n        </Label>\n      </div>\n    </div>\n  );\n}\n\nBadge.propTypes = {\n  count: PropTypes.number.isRequired,\n  maxLevel: PropTypes.number,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n};\n\nBadge.defaultProps = {\n  maxLevel: 2,\n  className: [],\n};\n","import React, { useState, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Modal from '../../../ui/Modal';\nimport Input, { InputLabel } from '../../../ui/Input';\nimport Avatar from '../../../ui/Avatar/index';\nimport { Type as ButtonType } from '../../../ui/Button/type';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport TextButton from '../../../ui/TextButton';\nimport ChannelAvatar from '../../../ui/ChannelAvatar/index';\n\nconst EditDetails = (props) => {\n  const {\n    onSubmit,\n    onCancel,\n    channel,\n    userId,\n    theme,\n  } = props;\n  const inputRef = useRef(null);\n  const formRef = useRef(null);\n  const hiddenInputRef = useRef(null);\n  const [currentImg, setCurrentImg] = useState(null);\n  const [newFile, setNewFile] = useState(null);\n  const { stringSet } = useContext(LocalizationContext);\n  const title = channel.name;\n  return (\n    <Modal\n      titleText={stringSet.MODAL__CHANNEL_INFORMATION__TITLE}\n      submitText={stringSet.BUTTON__SAVE}\n      onCancel={onCancel}\n      onSubmit={() => {\n        if (title !== '' && !inputRef.current.value) {\n          if (formRef.current.reportValidity) { // might not work in explorer\n            formRef.current.reportValidity();\n          }\n          return;\n        }\n        onSubmit(newFile, inputRef.current.value);\n        onCancel();\n      }}\n      type={ButtonType.PRIMARY}\n    >\n      <form\n        className=\"channel-profile-form\"\n        ref={formRef}\n        onSubmit={(e) => { e.preventDefault(); }}\n      >\n        <div className=\"channel-profile-form__img-section\">\n          <InputLabel>\n            {stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE}\n          </InputLabel>\n          <div className=\"channel-profile-form__avatar\">\n            {\n              currentImg\n                ? (\n                  <Avatar\n                    height=\"80px\"\n                    width=\"80px\"\n                    src={currentImg}\n                  />\n                ) : (\n                  <ChannelAvatar\n                    height={80}\n                    width={80}\n                    channel={channel}\n                    userId={userId}\n                    theme={theme}\n                  />\n                )\n              }\n          </div>\n          <input\n            ref={hiddenInputRef}\n            type=\"file\"\n            accept=\"image/gif, image/jpeg, image/png\"\n            style={{ display: 'none' }}\n            onChange={(e) => {\n              setCurrentImg(URL.createObjectURL(e.target.files[0]));\n              setNewFile(e.target.files[0]);\n              hiddenInputRef.current.value = '';\n            }}\n          />\n          <TextButton\n            className=\"channel-profile-form__avatar-button\"\n            onClick={() => hiddenInputRef.current.click()}\n            notUnderline\n          >\n            <Label type={LabelTypography.BUTTON_1} color={LabelColors.PRIMARY}>\n              {stringSet.MODAL__CHANNEL_INFORMATION__UPLOAD}\n            </Label>\n          </TextButton>\n        </div>\n        <div className=\"channel-profile-form__name-section\">\n          <InputLabel>\n            {stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME}\n          </InputLabel>\n          <Input\n            required={title !== ''}\n            name=\"channel-profile-form__name\"\n            ref={inputRef}\n            value={title}\n            placeHolder={stringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER}\n          />\n        </div>\n      </form>\n    </Modal>\n  );\n};\n\nEditDetails.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  channel: PropTypes.shape({\n    name: PropTypes.string,\n  }).isRequired,\n  userId: PropTypes.string.isRequired,\n  theme: PropTypes.string.isRequired,\n};\n\nexport default EditDetails;\n","import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './channel-profile.scss';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport Label, { LabelColors, LabelTypography } from '../../../ui/Label';\nimport EditDetailsModal from './EditDetails';\nimport TextButton from '../../../ui/TextButton';\nimport ChannelAvatar from '../../../ui/ChannelAvatar/index';\n\nconst ChannelProfile = (props) => {\n  const {\n    disabled,\n    channel,\n    userId,\n    theme,\n    onChannelInfoChange,\n  } = props;\n  const [showModal, setShowModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n\n  const getChannelName = () => {\n    if (channel && channel.name && channel.name !== 'Group Channel') {\n      return channel.name;\n    }\n    if (channel && (channel.name === 'Group Channel' || !channel.name)) {\n      return channel.members.map((member) => member.nickname || stringSet.NO_NAME).join(', ');\n    }\n    return stringSet.NO_TITLE;\n  };\n\n  return (\n    <div className=\"sendbird-channel-profile\">\n      <div className=\"sendbird-channel-profile--inner\">\n        <div className=\"sendbird-channel-profile__avatar\">\n          <ChannelAvatar\n            channel={channel}\n            userId={userId}\n            theme={theme}\n            width={80}\n            height={80}\n          />\n        </div>\n        <Label\n          className=\"sendbird-channel-profile__title\"\n          type={LabelTypography.SUBTITLE_2}\n          color={LabelColors.ONBACKGROUND_1}\n        >\n          {getChannelName()}\n        </Label>\n        <TextButton\n          disabled={disabled}\n          className=\"sendbird-channel-profile__edit\"\n          onClick={() => {\n            if (disabled) { return; }\n            setShowModal(true);\n          }}\n          notUnderline\n        >\n          <Label\n            type={LabelTypography.BUTTON_1}\n            color={disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY}\n          >\n            {stringSet.CHANNEL_SETTING__PROFILE__EDIT}\n          </Label>\n        </TextButton>\n        {\n          showModal && (\n            <EditDetailsModal\n              onCancel={() => setShowModal(false)}\n              onSubmit={onChannelInfoChange}\n              channel={channel}\n              userId={userId}\n              theme={theme}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nChannelProfile.propTypes = {\n  channel: PropTypes.shape({\n    name: PropTypes.string,\n    members: PropTypes.arrayOf(\n      PropTypes.shape({\n        nickname: PropTypes.string,\n      }),\n    ),\n  }).isRequired,\n  userId: PropTypes.string.isRequired,\n  theme: PropTypes.string,\n  disabled: PropTypes.bool,\n  onChannelInfoChange: PropTypes.func,\n};\n\nChannelProfile.defaultProps = {\n  theme: 'light',\n  disabled: false,\n  onChannelInfoChange: () => { },\n};\n\nexport default ChannelProfile;\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  currentUser?: string;\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport default function MembersModal({\n  hideModal,\n  channel,\n  currentUser,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n\n  useEffect(() => {\n    const memberListQuery = channel.createMemberListQuery();\n    memberListQuery.limit = 20;\n    memberListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setMemberQuery(memberListQuery);\n  }, [])\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"All Members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              user={member}\n              key={member.userId}\n              currentUser={currentUser}\n              action={({ parentRef, actionRef }) => (\n                <>\n                  {channel.myRole === 'operator' && (\n                    <ContextMenu\n                      menuTrigger={(toggleDropdown) => (\n                        <IconButton\n                          className=\"sendbird-user-message__more__menu\"\n                          width=\"32px\"\n                          height=\"32px\"\n                          onClick={toggleDropdown}\n                        >\n                          <Icon\n                            width=\"24px\"\n                            height=\"24px\"\n                            type={IconTypes.MORE}\n                            fillColor={IconColors.CONTENT_INVERSE}\n                          />\n                        </IconButton>\n                      )}\n                      menuItems={(closeDropdown) => (\n                        <MenuItems\n                          parentContainRef={parentRef}\n                          parentRef={actionRef} // for catching location(x, y) of MenuItems\n                          closeDropdown={closeDropdown}\n                          openLeft\n                        >\n                          <MenuItem\n                            onClick={() => {\n                              if ((member.role !== 'operator')) {\n                                channel.addOperators([member.userId], () => {\n                                  setMembers(members.map(m => {\n                                    if(m.userId === member.userId) {\n                                      return {\n                                        ...member,\n                                        role: 'operator',\n                                      };\n                                    }\n                                    return m;\n                                  }));\n                                  closeDropdown();\n                                });\n                              } else {\n                                channel.removeOperators([member.userId], () => {\n                                  setMembers(members.map(m => {\n                                    if(m.userId === member.userId) {\n                                      return {\n                                        ...member,\n                                        role: '',\n                                      };\n                                    }\n                                    return m;\n                                  }));\n                                  closeDropdown();\n                                });\n                              }\n                            }}\n                          >\n                            { member.role !== 'operator' ? 'Promote to operator' : 'Demote operator'}\n                          </MenuItem>\n                          {\n                            // No muted members in broadcast channel\n                            !channel.isBroadcast && (\n                              <MenuItem\n                                onClick={() => {\n                                  if (member.isMuted) {\n                                    channel.unmuteUser(member, () => {\n                                      setMembers(members.map(m => {\n                                        if(m.userId === member.userId) {\n                                          return {\n                                            ...member,\n                                            isMuted: false,\n                                          };\n                                        }\n                                        return m;\n                                      }));\n                                      closeDropdown();\n                                    })\n                                  } else {\n                                    channel.muteUser(member, () => {\n                                      setMembers(members.map(m => {\n                                        if(m.userId === member.userId) {\n                                          return {\n                                            ...member,\n                                            isMuted: true,\n                                          };\n                                        }\n                                        return m;\n                                      }));\n                                      closeDropdown();\n                                    });\n                                  }\n                                }}\n                              >\n                                { member.isMuted ? 'Unmute' : 'Mute' }\n                              </MenuItem>\n                            )\n                          }\n                          <MenuItem\n                            onClick={() => {\n                              channel.banUser(member, -1, '', () => {\n                                setMembers(members.filter(({ userId }) => {\n                                  return userId !== member.userId;\n                                }));\n                              });\n                            }}\n                          >\n                            Ban\n                          </MenuItem>\n                        </MenuItems>\n                      )}\n                    />\n                  )}\n                </>\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, { useState, useRef, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './members-accordion.scss';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport { UserProfileContext } from '../../../lib/UserProfileContext';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../ui/Button';\nimport Avatar from '../../../ui/Avatar/index';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport InviteMembers from '../../InviteMembers';\nimport MembersModal from './AdminPanel/MembersModal';\nimport UserProfile from '../../../ui/UserProfile';\nimport ContextMenu, { MenuItems } from '../../../ui/ContextMenu';\n\nconst SHOWN_MEMBER_MAX = 10;\n\nconst UserListItem = ({ member = {}, currentUser = '' }) => {\n  const avatarRef = useRef(null);\n  const {\n    disableUserProfile,\n    renderUserProfile,\n  } = useContext(UserProfileContext);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-members-accordion__member\">\n      <div className=\"sendbird-members-accordion__member-avatar\">\n        <ContextMenu\n          menuTrigger={(toggleDropdown) => (\n            <Avatar\n              onClick={() => {\n                if (!disableUserProfile) {\n                  toggleDropdown();\n                }\n              }}\n              ref={avatarRef}\n              src={member.profileUrl}\n              width={24}\n              height={24}\n            />\n          )}\n          menuItems={(closeDropdown) => (\n            <MenuItems\n              openLeft\n              parentRef={avatarRef}\n              // for catching location(x, y) of MenuItems\n              parentContainRef={avatarRef}\n              // for toggling more options(menus & reactions)\n              closeDropdown={closeDropdown}\n              style={{ paddingTop: 0, paddingBottom: 0 }}\n            >\n              {\n                renderUserProfile\n                  ? renderUserProfile({\n                    user: member,\n                    currentUserId: currentUser,\n                    close: closeDropdown,\n                  })\n                  : (\n                    <UserProfile\n                      user={member}\n                      currentUserId={currentUser}\n                      onSuccess={closeDropdown}\n                    />\n                  )\n              }\n            </MenuItems>\n          )}\n        />\n      </div>\n      <Label type={LabelTypography.SUBTITLE_2} color={LabelColors.ONBACKGROUND_1}>\n        {member.nickname || stringSet.NO_NAME}\n        {\n          (currentUser === member.userId) && (\n            stringSet.YOU\n          )\n        }\n      </Label>\n    </div>\n  );\n};\n\nUserListItem.propTypes = {\n  member: PropTypes.shape({\n    userId: PropTypes.string,\n    profileUrl: PropTypes.string,\n    nickname: PropTypes.string,\n  }).isRequired,\n  currentUser: PropTypes.string.isRequired,\n};\n\nconst MembersAccordion = ({\n  channel,\n  disabled,\n  currentUser,\n  userQueryCreator,\n  onInviteMembers,\n  swapParams,\n}) => {\n  const members = channel.members || [];\n  const [showMoreModal, setShowMoreModal] = useState(false);\n  const [showAddUserModal, setShowAddUserModal] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <div className=\"sendbird-members-accordion\">\n      <div className=\"sendbird-members-accordion__list\">\n        {\n          members.slice(0, SHOWN_MEMBER_MAX).map((member) => (\n            <UserListItem\n              member={member}\n              currentUser={currentUser}\n              key={member.userId}\n            />\n          ))\n        }\n      </div>\n      <div className=\"sendbird-members-accordion__footer\">\n        {\n          members.length >= SHOWN_MEMBER_MAX && (\n            <Button\n              className=\"sendbird-members-accordion__footer__all-members\"\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => setShowMoreModal(true)}\n            >\n              {stringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS}\n            </Button>\n          )\n        }\n        {\n          members.length >= SHOWN_MEMBER_MAX && showMoreModal && (\n            <MembersModal\n              currentUser={currentUser}\n              hideModal={() => {\n                setShowMoreModal(false);\n              }}\n              channel={channel}\n            />\n          )\n        }\n        <Button\n          className=\"sendbird-members-accordion__footer__invite-users\"\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          disabled={disabled}\n          onClick={() => {\n            if (disabled) { return; }\n            setShowAddUserModal(true);\n          }}\n        >\n          {stringSet.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER}\n        </Button>\n        {\n          showAddUserModal && (\n            <InviteMembers\n              swapParams={swapParams}\n              titleText={stringSet.MODAL__INVITE_MEMBER__TITLE}\n              submitText={stringSet.BUTTON__INVITE}\n              closeModal={() => setShowAddUserModal(false)}\n              idsToFilter={members.map((member) => (member.userId))}\n              userQueryCreator={userQueryCreator}\n              onSubmit={onInviteMembers}\n            />\n          )\n        }\n      </div>\n    </div>\n  );\n};\n\nMembersAccordion.propTypes = {\n  swapParams: PropTypes.bool,\n  disabled: PropTypes.bool,\n  channel: PropTypes.shape({\n    members: PropTypes.arrayOf(PropTypes.shape({})),\n  }),\n  currentUser: PropTypes.string,\n  userQueryCreator: PropTypes.func.isRequired,\n  onInviteMembers: PropTypes.func.isRequired,\n};\n\nMembersAccordion.defaultProps = {\n  swapParams: false,\n  currentUser: '',\n  disabled: false,\n  channel: {},\n};\n\nexport default MembersAccordion;\n","// might move to reusable/UI\n\nimport React, { ReactElement, useRef, useContext } from 'react';\n\nimport { LocalizationContext } from '../../../lib/LocalizationContext';\nimport { UserProfileContext } from '../../../lib/UserProfileContext';\nimport Avatar from '../../../ui/Avatar/index';\nimport MutedAvatarOverlay from '../../../ui/Avatar/MutedAvatarOverlay';\nimport Label, { LabelTypography, LabelColors } from '../../../ui/Label';\nimport UserProfile from '../../../ui/UserProfile';\nimport ContextMenu, { MenuItems } from '../../../ui/ContextMenu';\n\nimport './user-list-item.scss';\nimport { SendbirdTypes } from '../../../types';\n\nconst COMPONENT_NAME = 'sendbird-user-list-item--small';\n\ninterface ActionProps {\n  actionRef: React.RefObject<HTMLInputElement>;\n  parentRef: React.RefObject<HTMLInputElement>;\n}\n\ntype CustomUser = SendbirdTypes['User'] & {\n  isMuted: boolean;\n  role: string;\n};\n\ninterface Props {\n  user: CustomUser;\n  currentUser?: string;\n  className?: string;\n  action?(props: ActionProps): ReactElement;\n}\n\nconst UserListItem = ({\n  user,\n  className,\n  currentUser,\n  action,\n}: Props): ReactElement => {\n  const actionRef = useRef(null);\n  const parentRef = useRef(null);\n  const avatarRef = useRef(null);\n  const { stringSet } = useContext(LocalizationContext);\n  const {\n    disableUserProfile,\n    renderUserProfile,\n  } = useContext(UserProfileContext);\n  const injectingClassNames = Array.isArray(className) ? className : [className];\n  return (\n    <div\n      ref={parentRef}\n      className={[\n        COMPONENT_NAME, ...injectingClassNames,\n      ].join(' ')}\n    >\n      {\n        user.isMuted && (\n          <MutedAvatarOverlay />\n        )\n      }\n      <ContextMenu\n        menuTrigger={(toggleDropdown) => (\n          <Avatar\n            onClick={() => {\n              if (!disableUserProfile) {\n                toggleDropdown();\n              }\n            }}\n            ref={avatarRef}\n            className={`${COMPONENT_NAME}__avatar`}\n            src={user.profileUrl}\n            width={24}\n            height={24}\n          />\n        )}\n        menuItems={(closeDropdown) => (\n          <MenuItems\n            openLeft\n            parentRef={avatarRef}\n            // for catching location(x, y) of MenuItems\n            parentContainRef={avatarRef}\n            // for toggling more options(menus & reactions)\n            closeDropdown={closeDropdown}\n            style={{ paddingTop: 0, paddingBottom: 0 }}\n          >\n            {\n              renderUserProfile\n                ? renderUserProfile({\n                  user,\n                  currentUserId: currentUser,\n                  close: closeDropdown,\n                })\n                : (\n                  <UserProfile\n                    user={user}\n                    currentUserId={currentUser}\n                    onSuccess={closeDropdown}\n                  />\n                )\n            }\n          </MenuItems>\n        )}\n      />\n      <Label\n        className={`${COMPONENT_NAME}__title`}\n        type={LabelTypography.SUBTITLE_1}\n        color={LabelColors.ONBACKGROUND_1}\n      >\n        {user.nickname || stringSet.NO_NAME}\n        {\n          (currentUser === user.userId) && (\n            \" (You)\"\n          )\n        }\n      </Label>\n      { // if there is now nickname, display userId\n        !user.nickname && (\n          <Label\n            className={`${COMPONENT_NAME}__subtitle`}\n            type={LabelTypography.CAPTION_3}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            {user.userId}\n          </Label>\n        )\n      }\n      {\n        user.role === 'operator' && (\n          <Label\n            className={`${COMPONENT_NAME}__operator`}\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_2}\n          >\n            Operator\n          </Label>\n        )\n      }\n      {\n        action && (\n          <div ref={actionRef} className={`${COMPONENT_NAME}__action`}>\n            { action({ actionRef, parentRef }) }\n          </div>\n        )\n      }\n    </div>\n  );\n}\n\nexport default UserListItem;\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n  currentUser?: string;\n}\n\nexport default function OperatorsModal({\n  hideModal,\n  channel,\n  currentUser,\n}: Props): ReactElement {\n  const [operators, setOperators] = useState([]);\n  const [operatorQuery, setOperatorQuery] = useState(null);\n\n  useEffect(() => {\n    const operatorListQuery = channel.createOperatorListQuery();\n    operatorListQuery.limit = 20;\n    operatorListQuery.next((operators, error) => {\n      if (error) {\n        return;\n      }\n      setOperators(operators);\n    });\n    setOperatorQuery(operatorListQuery);\n  }, [])\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"All operators\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = operatorQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              operatorQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setOperators([\n                  ...operators,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { operators.map((member) => (\n            <UserListItem\n              currentUser={currentUser}\n              user={member}\n              key={member.userId}\n              action={({ parentRef, actionRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.removeOperators([member.userId], (response, error) => {\n                            if (error) {\n                              return;\n                            }\n                            setOperators(operators.filter(({ userId }) => {\n                              return userId !== member.userId;\n                            }));\n                          });\n                          closeDropdown();\n                        }}\n                      >\n                        Dismiss operator\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  )\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport Modal from '../../../../ui/Modal';\nimport Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport { Type as ButtonType } from '../../../../ui/Button/type';\nimport UserListItem from '../../../../ui/UserListItem';\n\ninterface Props {\n  hideModal(): void;\n  onSubmit(members: Array<string>): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport default function AddOperatorsModal({\n  hideModal,\n  channel,\n  onSubmit,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [selectedMembers, setSelectedMembers] = useState({});\n  const [memberQuery, setMemberQuery] = useState(null);\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    const memberListQuery = channel.createMemberListQuery();\n    memberListQuery.limit = 20;\n    memberListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setMemberQuery(memberListQuery);\n  }, [])\n\n  const selectedCount = Object.keys(selectedMembers).filter((m) => selectedMembers[m]).length;\n  return (\n    <div>\n      <Modal\n        type={ButtonType.PRIMARY}\n        submitText=\"Add\"\n        onCancel={() => hideModal()}\n        onSubmit={() => {\n          const members = Object.keys(selectedMembers).filter((m) => selectedMembers[m]);\n          onSubmit(members);\n        }}\n        titleText=\"Select members\"\n      >\n        <Label\n          color={(selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3}\n          type={LabelTypography.CAPTION_1}\n        >\n          {`${selectedCount} ${stringSet.MODAL__INVITE_MEMBER__SELECTEC}`}\n        </Label>\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              checkBox\n              checked={selectedMembers[member.userId]}\n              onChange={\n                (event) => {\n                  const modifiedSelectedMembers = {\n                    ...selectedMembers,\n                    [event.target.id]: event.target.checked,\n                  };\n                  if (!event.target.checked) {\n                    delete modifiedSelectedMembers[event.target.id];\n                  }\n                  setSelectedMembers(modifiedSelectedMembers);\n                }\n              }\n              user={member}\n              key={member.userId}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n  useContext,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport OperatorsModal from './OperatorsModal';\nimport AddOperatorsModal from './AddOperatorsModal';\n\ninterface Props {\n  sdk: SendbirdTypes[\"SendBirdInstance\"];\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport const OperatorList = ({ sdk, channel }: Props): ReactElement => {\n  const [operators, setOperators] = useState([]);\n  const [showMore, setShowMore] = useState(false);\n  const [showAdd, setShowAdd] = useState(false);\n  const [hasNext, setHasNext] = useState(false);\n  const { stringSet } = useContext(LocalizationContext);\n\n  useEffect(() => {\n    if (!channel) {\n      setOperators([]);\n      return;\n    }\n\n    const operatorListQuery = channel.createOperatorListQuery();\n    operatorListQuery.limit = 10;\n    operatorListQuery.next((operators, error) => {\n      if (error) {\n        return;\n      }\n      setOperators(operators);\n      setHasNext(operatorListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refershList = useCallback(\n    () => {\n      if (!channel) {\n        setOperators([]);\n        return;\n      }\n      const operatorListQuery = channel.createOperatorListQuery();\n      operatorListQuery.limit = 10;\n      operatorListQuery.next((operators, error) => {\n        if (error) {\n          return;\n        }\n        setOperators(operators);\n        setHasNext(operatorListQuery.hasNext);\n      });\n    },\n    [channel],\n  );\n\n  return (\n    <>\n      {\n        operators.map((operator) => (\n          <UserListItem\n            key={operator.userId}\n            user={operator}\n            currentUser={sdk.currentUser.userId}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.removeOperators([operator.userId], (response, error) => {\n                            if (error) {\n                              return;\n                            }\n                            setOperators(operators.filter(({ userId }) => {\n                              return userId !== operator.userId;\n                            }))\n                          });\n                          closeDropdown();\n                        }}\n                      >\n                        Dismiss operator\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              );\n            }}\n          />\n        ))\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowMore(true);\n              }}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ALL}\n            </Button>\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowAdd(true);\n              }}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ADD}\n            </Button>\n          </div>\n        )\n      }\n      {\n        showMore && (\n          <OperatorsModal\n            currentUser={sdk.currentUser.userId}\n            hideModal={() => {\n              setShowMore(false);\n              refershList();\n            }}\n            channel={channel}\n          />\n        )\n      }\n      {\n        showAdd && (\n          <AddOperatorsModal\n            hideModal={() => setShowAdd(false)}\n            channel={channel}\n            onSubmit={(members) => {\n              setShowAdd(false);\n              channel.addOperators(members, () => {\n                refershList();\n              });\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(OperatorList, mapStoreToProps);\n","import React, { ReactElement, useEffect, useState } from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport { Type as ButtonType } from '../../../../ui/Button/type';\nimport UserListItem from '../../../../ui/UserListItem';\n\ninterface Props {\n  hideModal(): void;\n  onSubmit(members: Array<string>): void;\n  channel: SendbirdTypes['GroupChannel'];\n  userQueryCreator(): SendbirdTypes['UserListQuery'];\n}\n\nexport default function InviteMembers({\n  hideModal,\n  userQueryCreator,\n  onSubmit,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [selectedMembers, setSelectedMembers] = useState({});\n  const [userQuery, setUserQuery] = useState(null);\n\n  useEffect(() => {\n    const userListQuery = userQueryCreator();\n    userListQuery.limit = 20;\n    userListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setUserQuery(userListQuery);\n  }, [])\n  return (\n    <div>\n      <Modal\n        disabled={Object.keys(selectedMembers).length === 0}\n        submitText=\"Invite\"\n        type={ButtonType.PRIMARY}\n        onCancel={() => hideModal()}\n        onSubmit={() => {\n          const members = Object.keys(selectedMembers).filter((m) => selectedMembers[m]);\n          onSubmit(members);\n        }}\n        titleText=\"Select members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = userQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              userQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              checkBox\n              checked={selectedMembers[member.userId]}\n              onChange={\n                (event) => {\n                  const modifiedSelectedMembers = {\n                    ...selectedMembers,\n                    [event.target.id]: event.target.checked,\n                  };\n                  if (!event.target.checked) {\n                    delete modifiedSelectedMembers[event.target.id];\n                  }\n                  setSelectedMembers(modifiedSelectedMembers);\n                }\n              }\n              user={member}\n              key={member.userId}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport MembersModal from './MembersModal';\nimport InviteMembers from './InviteMembersModal';\n\ninterface Props {\n  sdk: SendbirdTypes['SendBirdInstance'];\n  channel: SendbirdTypes['GroupChannel'];\n  userQueryCreator(): SendbirdTypes['UserListQuery'];\n  userId: string;\n}\n\nexport const MemberList = ({\n  sdk,\n  channel,\n  userQueryCreator,\n  userId,\n}: Props): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showAllMembers, setShowAllMembers] = useState(false);\n  const [showInviteMembers, setShowInviteMembers] = useState(false);\n\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refershList = useCallback(\n    () => {\n      if (!channel) {\n        setMembers([]);\n        return;\n      }\n      const memberUserListQuery = channel.createMemberListQuery();\n      memberUserListQuery.limit = 10;\n      memberUserListQuery.next((members, error) => {\n        if (error) {\n          return;\n        }\n        setMembers(members);\n        setHasNext(memberUserListQuery.hasNext);\n      });\n    },\n    [channel],\n  );\n\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            currentUser={sdk.currentUser.userId}\n            action={\n              (userId !== member.userId)\n                ? ({ actionRef, parentRef }) => (\n                  <ContextMenu\n                    menuTrigger={(toggleDropdown) => (\n                      <IconButton\n                        className=\"sendbird-user-message__more__menu\"\n                        width=\"32px\"\n                        height=\"32px\"\n                        onClick={toggleDropdown}\n                      >\n                        <Icon\n                          width=\"24px\"\n                          height=\"24px\"\n                          type={IconTypes.MORE}\n                          fillColor={IconColors.CONTENT_INVERSE}\n                        />\n                      </IconButton>\n                    )}\n                    menuItems={(closeDropdown) => (\n                      <MenuItems\n                        parentContainRef={parentRef}\n                        parentRef={actionRef} // for catching location(x, y) of MenuItems\n                        closeDropdown={closeDropdown}\n                        openLeft\n                      >\n                        <MenuItem\n                          onClick={() => {\n                            if ((member.role !== 'operator')) {\n                              channel.addOperators([member.userId], () => {\n                                refershList();\n                                closeDropdown();\n                              });\n                            } else {\n                              channel.removeOperators([member.userId], () => {\n                                refershList();\n                                closeDropdown();\n                              });\n                            }\n                          }}\n                        >\n                          {member.role !== 'operator' ? 'Promote to operator' : 'Demote operator'}\n                        </MenuItem>\n                        {\n                          // No muted members in broadcast channel\n                          !channel.isBroadcast && (\n                            <MenuItem\n                              onClick={() => {\n                                if (member.isMuted) {\n                                  channel.unmuteUser(member, () => {\n                                    refershList();\n                                    closeDropdown();\n                                  })\n                                } else {\n                                  channel.muteUser(member, () => {\n                                    refershList();\n                                    closeDropdown();\n                                  });\n                                }\n                              }}\n                            >\n                              { member.isMuted ? 'Unmute' : 'Mute'}\n                            </MenuItem>\n                          )\n                        }\n                        <MenuItem\n                          onClick={() => {\n                            channel.banUser(member, -1, '', () => {\n                              refershList();\n                              closeDropdown();\n                            });\n                          }}\n                        >\n                          Ban\n                    </MenuItem>\n                      </MenuItems>\n                    )}\n                  />\n                )\n                : null\n            }\n          />\n        ))\n      }\n      <div\n        className=\"sendbird-channel-settings-accordion__footer\"\n      >\n        {\n          hasNext && (\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => setShowAllMembers(true)}\n            >\n              All members\n            </Button>\n          )\n        }\n        <Button\n          type={ButtonTypes.SECONDARY}\n          size={ButtonSizes.SMALL}\n          onClick={() => setShowInviteMembers(true)}\n        >\n          Invite members\n        </Button>\n      </div>\n      {\n        showAllMembers && (\n          <MembersModal\n            currentUser={sdk.currentUser.userId}\n            channel={channel}\n            hideModal={() => {\n              setShowAllMembers(false);\n              refershList();\n            }}\n          />\n        )\n      }\n      {\n        showInviteMembers && (\n          <InviteMembers\n            userQueryCreator={userQueryCreator}\n            onSubmit={(selectedMembers: Array<string>) => {\n              channel.inviteWithUserIds(selectedMembers, () => {\n                setShowInviteMembers(false);\n                refershList();\n              });\n            }}\n            channel={channel}\n            hideModal={() => setShowInviteMembers(false)}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(MemberList, mapStoreToProps);\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport default function BannedMembersModal({\n  hideModal,\n  channel,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n\n  useEffect(() => {\n    const bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next((users, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(users);\n    });\n    setMemberQuery(bannedUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"Muted members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              user={member}\n              key={member.userId}\n              action={({ parentRef, actionRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unbanUser(member, () => {\n                            closeDropdown();\n                            setMembers(members.filter(m => {\n                              return (m.userId !== member.userId);\n                            }));\n                          })\n                        }}\n                      >\n                        Unban\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )\n              }\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\n\nimport UserListItem from '../UserListItem';\nimport BannedMembersModal from './BannedMembersModal';\n\ninterface Props {\n  sdk: SendbirdTypes[\"SendBirdInstance\"];\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport const BannedMemberList = ({ channel }: Props): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next((users, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const bannedUserListQuery = channel.createBannedUserListQuery();\n    bannedUserListQuery.next(function(users, error) {\n      if (error) {\n        return;\n      }\n      setMembers(users);\n      setHasNext(bannedUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unbanUser(member, () => {\n                            closeDropdown();\n                            refreshList();\n                          })\n                        }}\n                      >\n                        Unban\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )\n            }}\n          />\n        ))\n      }\n      {\n        members && members.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            No banned members yet\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              All banned members\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <BannedMembersModal\n            channel={channel}\n            hideModal={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(BannedMemberList, mapStoreToProps);\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n} from 'react'\n\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport Modal from '../../../../ui/Modal';\nimport UserListItem from '../../../../ui/UserListItem';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport { noop } from '../../../../utils/utils';\n\ninterface Props {\n  hideModal(): void;\n  channel: SendbirdTypes[\"GroupChannel\"];\n  currentUser?: string;\n}\n\nexport default function MutedMembersModal({\n  hideModal,\n  channel,\n  currentUser,\n}: Props): ReactElement {\n  const [members, setMembers] = useState([]);\n  const [memberQuery, setMemberQuery] = useState(null);\n\n  useEffect(() => {\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n    });\n    setMemberQuery(memberUserListQuery);\n  }, []);\n  return (\n    <div>\n      <Modal\n        hideFooter\n        onCancel={() => hideModal()}\n        onSubmit={noop}\n        titleText=\"Muted members\"\n      >\n        <div\n          className=\"sendbird-more-members__popup-scroll\"\n          onScroll={(e) => {\n            const { hasNext } = memberQuery;\n            const target = e.target as HTMLTextAreaElement;\n            const fetchMore = (\n              target.clientHeight + target.scrollTop === target.scrollHeight\n            );\n\n            if (hasNext && fetchMore) {\n              memberQuery.next((o, error) => {\n                if (error) {\n                  return;\n                }\n                setMembers([\n                  ...members,\n                  ...o,\n                ])\n              });\n            }\n          }}\n        >\n          { members.map((member) => (\n            <UserListItem\n              currentUser={currentUser}\n              user={member}\n              key={member.userId}\n              action={({ actionRef, parentRef }) => (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unmuteUser(member, () => {\n                            closeDropdown();\n                            setMembers(members.filter(m => {\n                              return (m.userId !== member.userId);\n                            }));\n                          })\n                        }}\n                      >\n                        Unmute\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              )}\n            />\n          ))}\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useCallback,\n} from 'react';\n\nimport { SendbirdTypes } from '../../../../types';\n\nimport withSendbirdContext from '../../../../lib/SendbirdSdkContext';\nimport { getSdk } from '../../../../lib/selectors';\nimport Button, { ButtonTypes, ButtonSizes } from '../../../../ui/Button';\nimport IconButton from '../../../../ui/IconButton';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport ContextMenu, { MenuItem, MenuItems } from '../../../../ui/ContextMenu';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport UserListItem from '../UserListItem';\nimport MutedMembersModal from './MutedMembersModal';\n\ninterface Props {\n  sdk: SendbirdTypes[\"SendBirdInstance\"];\n  channel: SendbirdTypes[\"GroupChannel\"];\n}\n\nexport const MutedMemberList = ({ sdk, channel }: Props): ReactElement => {\n  const [members, setMembers] = useState([]);\n  const [hasNext, setHasNext] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n\n  const refreshList = useCallback(() => {\n    if (!channel) {\n      setMembers([]);\n      return;\n    }\n\n    const memberUserListQuery = channel.createMemberListQuery();\n    memberUserListQuery.limit = 10;\n    memberUserListQuery.mutedMemberFilter = 'muted';\n    memberUserListQuery.next((members, error) => {\n      if (error) {\n        return;\n      }\n      setMembers(members);\n      setHasNext(memberUserListQuery.hasNext);\n    });\n  }, [channel]);\n  return (\n    <>\n      {\n        members.map((member) => (\n          <UserListItem\n            key={member.userId}\n            user={member}\n            currentUser={sdk.currentUser.userId}\n            action={({ actionRef, parentRef }) => {\n              return (\n                <ContextMenu\n                  menuTrigger={(toggleDropdown) => (\n                    <IconButton\n                      className=\"sendbird-user-message__more__menu\"\n                      width=\"32px\"\n                      height=\"32px\"\n                      onClick={toggleDropdown}\n                    >\n                      <Icon\n                        width=\"24px\"\n                        height=\"24px\"\n                        type={IconTypes.MORE}\n                        fillColor={IconColors.CONTENT_INVERSE}\n                      />\n                    </IconButton>\n                  )}\n                  menuItems={(closeDropdown) => (\n                    <MenuItems\n                      closeDropdown={closeDropdown}\n                      openLeft\n                      parentContainRef={parentRef}\n                      parentRef={actionRef} // for catching location(x, y) of MenuItems\n                    >\n                      <MenuItem\n                        onClick={() => {\n                          channel.unmuteUser(member, () => {\n                            refreshList();\n                            closeDropdown();\n                          })\n                        }}\n                      >\n                        Unmute\n                      </MenuItem>\n                    </MenuItems>\n                  )}\n                />\n              );\n            }\n            }\n          />\n        ))\n      }\n      {\n        members && members.length === 0 && (\n          <Label\n            className=\"sendbird-channel-settings__empty-list\"\n            type={LabelTypography.SUBTITLE_2}\n            color={LabelColors.ONBACKGROUND_3}\n          >\n            No muted members yet\n          </Label>\n        )\n      }\n      {\n        hasNext && (\n          <div\n            className=\"sendbird-channel-settings-accordion__footer\"\n          >\n            <Button\n              type={ButtonTypes.SECONDARY}\n              size={ButtonSizes.SMALL}\n              onClick={() => {\n                setShowModal(true);\n              }}\n            >\n              All muted members\n            </Button>\n          </div>\n        )\n      }\n      {\n        showModal && (\n          <MutedMembersModal\n            currentUser={sdk.currentUser.userId}\n            channel={channel}\n            hideModal={() => {\n              setShowModal(false);\n              refreshList();\n            }}\n          />\n        )\n      }\n    </>\n  );\n}\n\nconst mapStoreToProps = (store) => ({\n  sdk: getSdk(store),\n});\n\nexport default withSendbirdContext(MutedMemberList, mapStoreToProps);\n","import './index.scss';\nimport React, {\n  ReactElement,\n  useEffect,\n  useState,\n  useContext,\n} from 'react';\nimport { SendbirdTypes } from '../../../../types';\n\nimport Accordion, { AccordionGroup } from '../../../../ui/Accordion';\nimport { LocalizationContext } from '../../../../lib/LocalizationContext';\nimport\n  Label, {\n  LabelTypography,\n  LabelColors,\n} from '../../../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../../../ui/Icon';\nimport Badge from '../../../../ui/Badge';\n\nimport OperatorList from './OperatorList';\nimport MemberList from './MemberList';\nimport BannedMemberList from './BannedMemberList';\nimport MutedMemberList from './MutedMemberList';\n\nconst kFormatter = (num: number): string|number => {\n  return Math.abs(num) > 999\n    ? `${(Math.abs(num)/1000).toFixed(1)}K`\n    : num;\n}\n\ninterface Props {\n  channel: SendbirdTypes['GroupChannel'];\n  userQueryCreator(): SendbirdTypes['UserListQuery'];\n  userId: string;\n}\n\nexport default function AdminPannel({\n  userQueryCreator,\n  channel,\n  userId,\n}: Props): ReactElement {\n  const [frozen, setFrozen] = useState(false);\n\n  // work around for\n  // https://sendbird.slack.com/archives/G01290GCDCN/p1595922832000900\n  // SDK bug - after frozen/unfrozen myRole becomes \"none\"\n  useEffect(() => {\n    setFrozen(channel.isFrozen);\n  }, [channel]);\n  const { stringSet } = useContext(LocalizationContext);\n  return (\n    <AccordionGroup className=\"sendbird-channel-settings__operator\">\n      <Accordion\n        className=\"sendbird-channel-settings__operators-list\"\n        id=\"operators\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.OPERATOR}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__OPERATORS__TITLE}\n            </Label>\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <OperatorList channel={channel} />\n          </>\n        )}\n      />\n      <Accordion\n        className=\"sendbird-channel-settings__members-list\"\n        id=\"members\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.MEMBERS}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__MEMBERS__TITLE}\n            </Label>\n            <Badge count={kFormatter(channel.memberCount)} />\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <MemberList\n              userQueryCreator={userQueryCreator}\n              channel={channel}\n              userId={userId}\n            />\n          </>\n        )}\n      />\n      {\n        // No muted members in broadcast channel\n        !channel.isBroadcast && (\n          <Accordion\n            id=\"mutedMembers\"\n            className=\"sendbird-channel-settings__muted-members-list\"\n            renderTitle={() => (\n              <>\n                <Icon\n                  type={IconTypes.MUTE}\n                  fillColor={IconColors.PRIMARY}\n                  width={24}\n                  height={24}\n                  className=\"sendbird-channel-settings__accordion-icon\"\n                />\n                <Label\n                  type={LabelTypography.SUBTITLE_1}\n                  color={LabelColors.ONBACKGROUND_1}\n                >\n                  {stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE}\n                </Label>\n              </>\n            )}\n            renderContent={() => (\n              <>\n                <MutedMemberList channel={channel} />\n              </>\n            )}\n          />\n        )\n      }\n      <Accordion\n        className=\"sendbird-channel-settings__banned-members-list\"\n        id=\"bannedMembers\"\n        renderTitle={() => (\n          <>\n            <Icon\n              type={IconTypes.BAN}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__BANNED_MEMBERS__TITLE}\n            </Label>\n          </>\n        )}\n        renderContent={() => (\n          <>\n            <BannedMemberList channel={channel} />\n          </>\n        )}\n      />\n      {\n        // cannot frozen broadcast channel\n        !channel.isBroadcast && (\n          <div className=\"sendbird-channel-settings__freeze\">\n            <Icon\n              type={IconTypes.FREEZE}\n              fillColor={IconColors.PRIMARY}\n              width={24}\n              height={24}\n              className=\"sendbird-channel-settings__accordion-icon\"\n            />\n            <Label\n              type={LabelTypography.SUBTITLE_1}\n              color={LabelColors.ONBACKGROUND_1}\n            >\n              {stringSet.CHANNEL_SETTING__FREEZE_CHANNEL}\n            </Label>\n            <div className=\"sendbird-channel-settings__frozen-icon\">\n              {\n                frozen\n                  ? (\n                    <Icon\n                      onClick={() => {\n                        channel.unfreeze(() => {\n                          setFrozen(false);\n                        });\n                      }}\n                      type={IconTypes.TOGGLE_ON}\n                      fillColor={IconColors.PRIMARY}\n                      width={44}\n                      height={24}\n                    />\n                  )\n                  : (\n                    <Icon\n                      onClick={() => {\n                        channel.freeze(() => {\n                          setFrozen(true);\n                        });\n                      }}\n                      type={IconTypes.TOGGLE_OFF}\n                      fillColor={IconColors.PRIMARY}\n                      width={44}\n                      height={24}\n                    />\n                  )\n              }\n            </div>\n          </div>\n        )\n      }\n    </AccordionGroup>\n  );\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\n\nimport withSendbirdContext from '../../lib/SendbirdSdkContext';\nimport { UserProfileProvider } from '../../lib/UserProfileContext';\nimport { LocalizationContext } from '../../lib/LocalizationContext';\n\nimport './index.scss';\nimport Badge from '../../ui/Badge';\nimport Label, { LabelTypography, LabelColors } from '../../ui/Label';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon';\nimport IconButton from '../../ui/IconButton';\n\nimport ChannelProfile from './components/ChannelProfile';\nimport MembersAccordion from './components/MembersAccordion';\nimport LeaveChannelModal from './components/LeaveChannel';\nimport AdminPanel from './components/AdminPanel';\nimport PlaceHolder from '../../ui/PlaceHolder';\nimport PlaceHolderTypes from '../../ui/PlaceHolder/type';\nimport { uuidv4 } from '../../utils/uuid';\nimport { createDefaultUserListQuery } from '../ChannelList/components/utils';\n\nconst COMPONENT_CLASS_NAME = 'sendbird-channel-settings';\n\nconst kFormatter = (num) => (\n  Math.abs(num) > 999\n    ? `${(Math.abs(num) / 1000).toFixed(1)}K`\n    : num\n);\n\nfunction ChannelSettings(props) {\n  const {\n    className,\n    onCloseClick,\n    channelUrl,\n    disableUserProfile,\n    renderUserProfile,\n    onChannelModified,\n    renderChannelProfile,\n    onBeforeUpdateChannel,\n  } = props;\n\n  const {\n    stores: { sdkStore },\n    config: {\n      userListQuery,\n      theme,\n      userId,\n      logger,\n      isOnline,\n    },\n    queries = {},\n  } = props;\n\n  const { config = {} } = props;\n  const userDefinedDisableUserProfile = disableUserProfile || config.disableUserProfile;\n  const userDefinedRenderProfile = renderUserProfile || config.renderUserProfile;\n\n  const userFilledApplicationUserListQuery = queries.applicationUserListQuery;\n  const { stringSet } = useContext(LocalizationContext);\n\n  const { sdk, initialized } = sdkStore;\n\n  // hack to kepp track of channel updates by triggering useEffect\n  const [channelUpdateId, setChannelUpdateId] = useState(uuidv4());\n  const [channel, setChannel] = useState(null);\n  const [invalidChannel, setInvalidChannel] = useState(false);\n  const [showAccordion, setShowAccordion] = useState(false);\n  const [showLeaveChannelModal, setShowLeaveChannelModal] = useState(false);\n\n  const componentClassNames = (\n    Array.isArray(className)\n      ? [COMPONENT_CLASS_NAME, ...className]\n      : [COMPONENT_CLASS_NAME, className]\n  ).join(' ');\n\n  useEffect(() => {\n    logger.info('ChannelSettings: Setting up');\n    if (!channelUrl || !initialized || !sdk) {\n      logger.warning('ChannelSettings: Setting up failed', 'No channelUrl or sdk uninitialized');\n      setInvalidChannel(false);\n    } else {\n      if (!sdk || !sdk.GroupChannel) {\n        logger.warning('ChannelSettings: No GroupChannel');\n        return;\n      }\n      sdk.GroupChannel.getChannel(channelUrl, (groupChannel) => {\n        if (!groupChannel) {\n          logger.warning('ChannelSettings: Channel not found');\n          setInvalidChannel(true);\n        } else {\n          logger.info('ChannelSettings: Fetched group channel', groupChannel);\n          setInvalidChannel(false);\n          setChannel(groupChannel);\n        }\n      });\n    }\n  }, [channelUrl, initialized, channelUpdateId]);\n\n  if (!channel || invalidChannel) {\n    return (\n      <div className={componentClassNames}>\n        <div className=\"sendbird-channel-settings__header\">\n          <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n            {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n          </Label>\n          <Icon\n            className=\"sendbird-channel-settings__close-icon\"\n            type={IconTypes.CLOSE}\n            height=\"24px\"\n            width=\"24px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick();\n            }}\n          />\n        </div>\n        <div>\n          <PlaceHolder type={PlaceHolderTypes.WRONG} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <UserProfileProvider\n      className={componentClassNames}\n      disableUserProfile={userDefinedDisableUserProfile}\n      renderUserProfile={userDefinedRenderProfile}\n    >\n      <div className=\"sendbird-channel-settings__header\">\n        <Label type={LabelTypography.H_2} color={LabelColors.ONBACKGROUND_1}>\n          {stringSet.CHANNEL_SETTING__HEADER__TITLE}\n        </Label>\n        <div className=\"sendbird-channel-settings__header-icon\">\n          <IconButton\n            width=\"32px\"\n            height=\"32px\"\n            onClick={() => {\n              logger.info('ChannelSettings: Click close');\n              onCloseClick();\n            }}\n          >\n            <Icon\n              className=\"sendbird-channel-settings__close-icon\"\n              type={IconTypes.CLOSE}\n              height=\"22px\"\n              width=\"22px\"\n            />\n          </IconButton>\n        </div>\n      </div>\n      <div className=\"sendbird-channel-settings__scroll-area\">\n        {\n          renderChannelProfile\n            ? renderChannelProfile({ channel })\n            : (\n              <ChannelProfile\n                disabled={!isOnline}\n                channel={channel}\n                userId={userId}\n                theme={theme}\n                onChannelInfoChange={(currentImg, currentTitle) => {\n                  logger.info('ChannelSettings: Channel information being updated');\n                  const swapParams = sdk.getErrorFirstCallback();\n                  if (onBeforeUpdateChannel) {\n                    const params = onBeforeUpdateChannel(currentTitle, currentImg, channel.data);\n                    // swapParams\n                    channel.updateChannel(params, (response, error) => {\n                      let groupChannel = response;\n                      if (swapParams) {\n                        groupChannel = error;\n                      }\n\n                      onChannelModified(groupChannel);\n                      setChannelUpdateId(uuidv4());\n                    });\n                    return;\n                  }\n                  channel.updateChannel(\n                    currentTitle,\n                    currentImg,\n                    channel.data,\n                    (response, error) => {\n                      let groupChannel = response;\n                      if (swapParams) {\n                        groupChannel = error;\n                      }\n                      logger.info('ChannelSettings: Channel information updated', groupChannel);\n                      onChannelModified(groupChannel);\n                      setChannelUpdateId(uuidv4());\n                    },\n                  );\n                }}\n              />\n            )\n        }\n        {\n          channel.myRole === 'operator'\n            ? (\n              <AdminPanel\n                channel={channel}\n                userId={userId}\n                onChannelModified={(groupChannel) => {\n                  // setChannelUpdateId(uuidv4());\n                  onChannelModified(groupChannel);\n                }}\n                userQueryCreator={\n                  () => ((userListQuery && typeof userListQuery === 'function')\n                    ? userListQuery()\n                    : createDefaultUserListQuery({ sdk, userFilledApplicationUserListQuery })\n                  )\n                }\n              />\n            )\n            : (\n              <>\n                {/* Move to different file */}\n                <div\n                  className={[\n                    'sendbird-channel-settings__panel-item',\n                    'sendbird-channel-settings__members',\n                  ].join(' ')}\n                  role=\"switch\"\n                  aria-checked={showAccordion}\n                  onKeyDown={() => setShowAccordion(!showAccordion)}\n                  onClick={() => setShowAccordion(!showAccordion)}\n                  tabIndex={0}\n                >\n                  <Icon\n                    className=\"sendbird-channel-settings__panel-icon-left\"\n                    type={IconTypes.MEMBERS}\n                    fillColor={IconColors.PRIMARY}\n                    height=\"24px\"\n                    width=\"24px\"\n                  />\n                  <Label\n                    type={LabelTypography.SUBTITLE_1}\n                    color={LabelColors.ONBACKGROUND_1}\n                  >\n                    {stringSet.CHANNEL_SETTING__MEMBERS__TITLE}\n                    <Badge count={kFormatter(channel.memberCount)} />\n                  </Label>\n                  <Icon\n                    className={[\n                      'sendbird-channel-settings__panel-icon-right',\n                      'sendbird-channel-settings__panel-icon--chevron',\n                      (showAccordion ? 'sendbird-channel-settings__panel-icon--open' : ''),\n                    ].join(' ')}\n                    type={IconTypes.CHEVRON_RIGHT}\n                    height=\"24px\"\n                    width=\"24px\"\n                  />\n                </div>\n                {\n                  showAccordion && (\n                    <MembersAccordion\n                      currentUser={userId}\n                      disabled={!isOnline}\n                      // eslint-disable-next-line\n                      userQueryCreator={\n                        () => ((userListQuery && typeof userListQuery === 'function')\n                          ? userListQuery()\n                          : createDefaultUserListQuery({ sdk, userFilledApplicationUserListQuery })\n                        )\n                      }\n                      swapParams={\n                        sdk && sdk.getErrorFirstCallback && sdk.getErrorFirstCallback()\n                      }\n                      channel={channel}\n                      members={channel.members}\n                      onInviteMembers={(selectedMembers) => {\n                        logger.info('ChannelSettings: Inviting new users');\n                        channel.inviteWithUserIds(selectedMembers)\n                          .then((res) => {\n                            onChannelModified(res);\n                            setChannelUpdateId(uuidv4());\n                            logger.info('ChannelSettings: Inviting new users success!', res);\n                          });\n                      }}\n                    />\n                  )\n                }\n              </>\n            )\n        }\n\n        <div\n          className={[\n            'sendbird-channel-settings__panel-item',\n            'sendbird-channel-settings__leave-channel',\n            !isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '',\n          ].join(' ')}\n          role=\"button\"\n          disabled\n          onKeyDown={() => {\n            if (!isOnline) { return; }\n            setShowLeaveChannelModal(true);\n          }}\n          onClick={() => {\n            if (!isOnline) { return; }\n            setShowLeaveChannelModal(true);\n          }}\n          tabIndex={0}\n        >\n          <Icon\n            className={[\n              'sendbird-channel-settings__panel-icon-left',\n              'sendbird-channel-settings__panel-icon__leave',\n            ].join(' ')}\n            type={IconTypes.LEAVE}\n            fillColor={IconColors.ERROR}\n            height=\"24px\"\n            width=\"24px\"\n          />\n          <Label\n            type={LabelTypography.SUBTITLE_1}\n            color={LabelColors.ONBACKGROUND_1}\n          >\n            {stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE}\n          </Label>\n        </div>\n        {\n          showLeaveChannelModal && (\n            <LeaveChannelModal\n              onCloseModal={() => setShowLeaveChannelModal(false)}\n              onLeaveChannel={() => {\n                logger.info('ChannelSettings: Leaving channel', channel);\n                channel.leave()\n                  .then(() => {\n                    logger.info('ChannelSettings: Leaving channel successful!', channel);\n                    onCloseClick();\n                  });\n              }}\n            />\n          )\n        }\n      </div>\n    </UserProfileProvider>\n  );\n}\n\nChannelSettings.propTypes = {\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string),\n  ]),\n  onCloseClick: PropTypes.func,\n  onChannelModified: PropTypes.func,\n  onBeforeUpdateChannel: PropTypes.func,\n  renderChannelProfile: PropTypes.oneOfType([\n    PropTypes.element,\n    PropTypes.func,\n  ]),\n  disableUserProfile: PropTypes.bool,\n  renderUserProfile: PropTypes.func,\n  channelUrl: PropTypes.string.isRequired,\n  queries: PropTypes.shape({\n    applicationUserListQuery: PropTypes.shape({\n      limit: PropTypes.number,\n      userIdsFilter: PropTypes.arrayOf(PropTypes.string),\n      metaDataKeyFilter: PropTypes.string,\n      metaDataValuesFilter: PropTypes.arrayOf(PropTypes.string),\n    }),\n  }),\n  // from withSendbirdContext\n  stores: PropTypes.shape({\n    sdkStore: PropTypes.shape({\n      sdk: PropTypes.shape({\n        getErrorFirstCallback: PropTypes.func,\n        GroupChannel: PropTypes.oneOfType([\n          PropTypes.shape({\n            getChannel: PropTypes.func,\n          }),\n          PropTypes.func,\n        ]),\n        createApplicationUserListQuery: PropTypes.any,\n      }),\n      initialized: PropTypes.bool,\n    }),\n  }).isRequired,\n  config: PropTypes.shape({\n    userId: PropTypes.string,\n    theme: PropTypes.string,\n    userListQuery: PropTypes.func,\n    isOnline: PropTypes.bool,\n    logger: PropTypes.shape({\n      info: PropTypes.func,\n      error: PropTypes.func,\n      warning: PropTypes.func,\n    }),\n  }).isRequired,\n};\n\nChannelSettings.defaultProps = {\n  className: '',\n  onBeforeUpdateChannel: null,\n  queries: {},\n  disableUserProfile: false,\n  renderUserProfile: null,\n  renderChannelProfile: null,\n  onCloseClick: () => { },\n  onChannelModified: () => { },\n};\n\nexport default withSendbirdContext(ChannelSettings);\n"],"names":["Badge","count","maxLevel","className","useContext","LocalizationContext","stringSet","maximumNumber","parseInt","repeat","React","Array","isArray","join","Label","LabelTypography","CAPTION_2","LabelColors","ONCONTENT_1","BADGE__OVER","propTypes","PropTypes","number","isRequired","oneOfType","string","arrayOf","defaultProps","EditDetails","props","onSubmit","onCancel","channel","userId","theme","inputRef","useRef","formRef","hiddenInputRef","useState","currentImg","setCurrentImg","newFile","setNewFile","title","name","Modal","MODAL__CHANNEL_INFORMATION__TITLE","BUTTON__SAVE","current","value","reportValidity","ButtonType","PRIMARY","e","preventDefault","InputLabel","MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE","Avatar","ChannelAvatar","display","URL","createObjectURL","target","files","TextButton","click","BUTTON_1","MODAL__CHANNEL_INFORMATION__UPLOAD","MODAL__CHANNEL_INFORMATION__CHANNEL_NAME","Input","MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER","func","shape","ChannelProfile","disabled","onChannelInfoChange","showModal","setShowModal","getChannelName","members","map","member","nickname","NO_NAME","NO_TITLE","SUBTITLE_2","ONBACKGROUND_1","ONBACKGROUND_2","CHANNEL_SETTING__PROFILE__EDIT","EditDetailsModal","bool","MembersModal","_a","hideModal","currentUser","_b","setMembers","_c","memberQuery","setMemberQuery","useEffect","memberListQuery","createMemberListQuery","limit","next","error","noop","hasNext","fetchMore","clientHeight","scrollTop","scrollHeight","o","UserListItem","parentRef","actionRef","myRole","ContextMenu","toggleDropdown","IconButton","Icon","IconTypes","MORE","IconColors","CONTENT_INVERSE","closeDropdown","MenuItems","MenuItem","role","addOperators","m","removeOperators","isBroadcast","isMuted","unmuteUser","muteUser","banUser","filter","SHOWN_MEMBER_MAX","avatarRef","UserProfileContext","disableUserProfile","renderUserProfile","profileUrl","paddingTop","paddingBottom","user","currentUserId","close","UserProfile","YOU","MembersAccordion","userQueryCreator","onInviteMembers","swapParams","showMoreModal","setShowMoreModal","showAddUserModal","setShowAddUserModal","slice","length","Button","ButtonTypes","SECONDARY","ButtonSizes","SMALL","CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS","CHANNEL_SETTING__MEMBERS__INVITE_MEMBER","InviteMembers","MODAL__INVITE_MEMBER__TITLE","BUTTON__INVITE","COMPONENT_NAME","action","injectingClassNames","__spreadArrays","MutedAvatarOverlay","SUBTITLE_1","CAPTION_3","OperatorsModal","operators","setOperators","operatorQuery","setOperatorQuery","operatorListQuery","createOperatorListQuery","response","AddOperatorsModal","selectedMembers","setSelectedMembers","_d","selectedCount","Object","keys","ONBACKGROUND_3","CAPTION_1","MODAL__INVITE_MEMBER__SELECTEC","event","modifiedSelectedMembers","id","checked","OperatorList","sdk","showMore","setShowMore","showAdd","setShowAdd","_e","setHasNext","refershList","useCallback","operator","CHANNEL_SETTING__OPERATORS__TITLE_ALL","CHANNEL_SETTING__OPERATORS__TITLE_ADD","mapStoreToProps","store","getSdk","withSendbirdContext","userQuery","setUserQuery","userListQuery","MemberList","showAllMembers","setShowAllMembers","showInviteMembers","setShowInviteMembers","memberUserListQuery","inviteWithUserIds","BannedMembersModal","bannedUserListQuery","createBannedUserListQuery","users","unbanUser","BannedMemberList","refreshList","MutedMembersModal","mutedMemberFilter","MutedMemberList","kFormatter","num","Math","abs","toFixed","AdminPannel","frozen","setFrozen","isFrozen","AccordionGroup","Accordion","OPERATOR","CHANNEL_SETTING__OPERATORS__TITLE","MEMBERS","CHANNEL_SETTING__MEMBERS__TITLE","memberCount","MUTE","CHANNEL_SETTING__MUTED_MEMBERS__TITLE","BAN","CHANNEL_SETTING__BANNED_MEMBERS__TITLE","FREEZE","CHANNEL_SETTING__FREEZE_CHANNEL","unfreeze","TOGGLE_ON","freeze","TOGGLE_OFF","COMPONENT_CLASS_NAME","ChannelSettings","onCloseClick","channelUrl","onChannelModified","renderChannelProfile","onBeforeUpdateChannel","sdkStore","stores","config","logger","isOnline","queries","userDefinedDisableUserProfile","userDefinedRenderProfile","userFilledApplicationUserListQuery","applicationUserListQuery","initialized","uuidv4","channelUpdateId","setChannelUpdateId","setChannel","invalidChannel","setInvalidChannel","showAccordion","setShowAccordion","showLeaveChannelModal","setShowLeaveChannelModal","componentClassNames","info","warning","GroupChannel","getChannel","groupChannel","H_2","CHANNEL_SETTING__HEADER__TITLE","CLOSE","PlaceHolder","PlaceHolderTypes","WRONG","UserProfileProvider","currentTitle","getErrorFirstCallback","params","data","updateChannel","AdminPanel","createDefaultUserListQuery","CHEVRON_RIGHT","then","res","LEAVE","ERROR","CHANNEL_SETTING__LEAVE_CHANNEL__TITLE","LeaveChannelModal","leave","element","userIdsFilter","metaDataKeyFilter","metaDataValuesFilter","createApplicationUserListQuery","any"],"mappings":"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"}